local WEBHOOK_URL = 'https://discord.com/api/webhooks/1389813904581984298/n3GVYdYkKIspJzqxvUXjFZjzyku0GxK-lIiYAIbu9SWl8Il5Nzzfr-y7SBDCXkVi_ImQ' 
local BANLIST_URL = 'https://raw.githubusercontent.com/Sqweex-lua/IlIIlIlIlIlIlIIlIlIlIlIlIIlIlIlIll/refs/heads/main/checker.txt' 

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerName = LocalPlayer.Name 
local PlayerId = tostring(LocalPlayer.UserId)
local Lighting = game:GetService("Lighting")

local hatExists = false
local colorConnection = nil
local hue = 0
local currentWalkSpeed = 16 

local function SendDiscordLog(isBanned)
    local statusText = isBanned and "Запрещен (BANNED)" or "Разрешен (LOADED)"
    local color = isBanned and 16711680 or 65280

    local data = {
        ["embeds"] = {{
            ["title"] = " dark.cc | Запуск скрипта ",
            ["description"] = "Попытка загрузки скрипта зафиксирована.",
            ["color"] = color,
            ["fields"] = {
                {
                    ["name"] = "Никнейм",
                    ["value"] = string.format("`%s`", PlayerName),
                    ["inline"] = true
                },
                {
                    ["name"] = "ID Пользователя",
                    ["value"] = string.format("`%s`", PlayerId),
                    ["inline"] = true
                },
                {
                    ["name"] = "Статус (is_banned)",
                    ["value"] = string.format("`%s`", tostring(isBanned)),
                    ["inline"] = false
                },
                {
                    ["name"] = "Результат загрузки",
                    ["value"] = string.format("**%s**", statusText),
                    ["inline"] = false
                }
            },
            ["footer"] = {
                ["text"] = "dark.cc Logger"
            },
            ["timestamp"] = os.date("!%Y-%m-%dT%H:%M:%S.000Z")
        }}
    }

    local jsonData = game:GetService("HttpService"):JSONEncode(data)
    
    request({
        Url = WEBHOOK_URL,
        Headers = {["Content-Type"] = "application/json"},
        Method = "POST",
        Body = jsonData
    })
end

local function CheckBanStatus()
    local success, content = pcall(function()
        return game:HttpGet(BANLIST_URL)
    end)

    if success and content then
        local lowerPlayerName = string.lower(PlayerName)
        
        for name in content:gmatch("([^\r\n]+)") do
            local lowerBanName = string.lower(name:gsub("%s", ""))
            
            if lowerPlayerName == lowerBanName then
                return true
            end
        end
    end
    return false 
end

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local isUserBanned = CheckBanStatus() 

if isUserBanned then
    SendDiscordLog(true) 
    Rayfield:Notify({ 
        Title = "dark.cc", 
        Content = "Ваш аккаунт заблокирован! Обратитесь к t.me/iceglock66", 
        Duration = 10,
        Image = 4483362458
    })
    return
else
    SendDiscordLog(false) 
end

local Window = Rayfield:CreateWindow({ 
    Name = "dark.cc", 
    LoadingTitle = "dark.cc", 
    LoadingSubtitle = "Loading. . .", 
    ConfigurationSaving = { 
        Enabled = true, 
        FolderName = "darkconfig", 
        FileName = "config" 
    }, 
    KeySystem = true, 
    KeySettings = { 
        Title = "dark.cc", 
        Subtitle = "Key System", 
        Note = "Wanna key? buy private - t.me/iceglock66", 
        FileName = "darkcc", 
        SaveKey = true, 
        GrabKeyFromSite = true, 
        Key = {"https://raw.githubusercontent.com/Sqweex-lua/-SS-Waffen-BDSM--.corporation/refs/heads/main/IlIIlIlIlIlIlIIlIlIlIlIlIIlIlIlIl.asm"} 
    } 
}) 

local MainTab = Window:CreateTab("Main", 4483362458)

---
## Main Tab Elements
---

MainTab:CreateInput({
    Name = "Speedhack (WalkSpeed)",
    Flag = "SpeedInput_Final",
    CurrentValue = tostring(currentWalkSpeed),
    Placeholder = "16 - 200",
    NumberOnly = true, 
    Callback = function(value)
        local speed = tonumber(value)
        
        if speed and speed >= 16 and speed <= 200 then
            currentWalkSpeed = speed
        else
            currentWalkSpeed = 16 
        end
        
        local function applySpeed(char)
            local humanoid = char:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = currentWalkSpeed
            end
        end

        applySpeed(LocalPlayer.Character)
        
        LocalPlayer.CharacterAdded:Connect(applySpeed)
    end,
})

MainTab:CreateToggle({
    Name = "Wallhack (Noclip)",
    CurrentValue = false,
    Flag = "WallhackToggle",
    Callback = function(value)
        
        local function toggleNoclip(char)
            local rootPart = char:FindFirstChild("HumanoidRootPart")
            if rootPart then
                rootPart.CanCollide = not value
            end
        end

        if LocalPlayer.Character then
            toggleNoclip(LocalPlayer.Character)
        end
        
        if value then
            LocalPlayer.CharacterAdded:Connect(toggleNoclip)
        end
    end,
})

---
## Visuals Tab Elements
---

local VisualsTab = Window:CreateTab("Visuals", 6835368962) 

VisualsTab:CreateToggle({
    Name = "Headless", 
    CurrentValue = false,
    Flag = "HeadlessToggle",
    Callback = function(value)
        local character = LocalPlayer.Character
        if not character then return end
        local head = character:FindFirstChild("Head")

        if head then
            head.Transparency = value and 1 or 0
            head.CanCollide = not value 
            
            for _, child in ipairs(head:GetChildren()) do
                if child:IsA("Decal") or child:IsA("Texture") or child:IsA("SpecialMesh") then
                    child.Transparency = value and 1 or 0
                end
            end
        end
    end,
})

VisualsTab:CreateColorPicker({
    Name = "Sky Color Changer",
    Flag = "SkyColorPicker",
    CurrentColor = Lighting.OutdoorAmbient,
    Callback = function(color)
        Lighting.OutdoorAmbient = color
        Lighting.FogColor = color
    end,
})

VisualsTab:CreateToggle({
    Name = "ChinaHat", 
    CurrentValue = false,
    Flag = "PythonHatToggle",
    Callback = function(value)
        local character = LocalPlayer.Character
        if not character then return end
        local head = character:FindFirstChild("Head")
        if not head then return end

        if value then
            if not hatExists then
                local hat = Instance.new("Part")
                hat.Name = "ClientPython"
                hat.Anchored = false
                hat.CanCollide = false
                hat.Size = Vector3.new(4, 0.3, 4)
                hat.Shape = Enum.PartType.Block
                hat.Transparency = 0.4
                hat.Material = Enum.Material.Neon
                hat.Parent = head

                local mesh = Instance.new("SpecialMesh", hat)
                mesh.MeshType = Enum.MeshType.FileMesh
                mesh.MeshId = "rbxassetid://1033714" 
                mesh.Scale = Vector3.new(2, 1, 2)

                hat.CFrame = head.CFrame * CFrame.new(0, 1, 0)
                local weld = Instance.new("WeldConstraint", hat)
                weld.Part0 = hat
                weld.Part1 = head
                
                colorConnection = game:GetService("RunService").RenderStepped:Connect(function()
                    hue = (hue + 1) % 360
                    hat.Color = Color3.fromHSV(hue / 360, 1, 1)
                end)

                hatExists = true
            end
        else
            if hatExists then
                if colorConnection then
                    colorConnection:Disconnect()
                    colorConnection = nil
                end

                local existingHat = head:FindFirstChild("ClientPython")
                if existingHat then
                    existingHat:Destroy()
                end

                hatExists = false
            end
        end
    end,
})

Rayfield:Notify({ 
    Title = "dark.cc", 
    Content = "Loaded! ", 
    Duration = 6.5, 
    Image = 4483362458, 
    Actions = { 
        Ignore = { 
            Name = "OK", 
            Callback = function() 
                print("t.me/darkcheatcc") 
            end 
        }, 
    }, 
})
